<ion-header id="head">
  <ion-toolbar color="white">
        <button ion-button menuToggle="left">
          <ion-icon name="menu"></ion-icon>
        </button>
        <p class = "Title">
          Divy.
        </p>
        <button ion-button menuToggle right>
        <ion-nav #search [root]="rootPage"></ion-nav>
          <ion-icon name="search"></ion-icon>
        </button>
  </ion-toolbar>

  <div id="navigation" >
      <div><button class="Nav" (click) = "filter('All')"><h4> ALL </h4>
      </button></div>
      <div><button class="Nav" (click) = "filter('Post')"><h4> POSTS </h4>
      </button></div>
      <div><button class="Nav" (click) = "filter('Photo')"><h4> PHOTOS </h4>
      </button></div>
      <div><button class="Nav" (click) = "filter('Video')"><h4> VIDEOS </h4>
      </button></div>
      <div><button class="Nav" (click) = "filter('Promo')"><h4> PROMOS </h4>
      </button></div>
  </div>

<!-- TODO Text Input -->
  <div id="input">
    <input type="text" ng-model="string" (input)="postB()"
    id="htextbox" placeholder="Say something to the world...">
    <div id = "postButt"><div class="add"></div>
      <div *ngIf="this.button == true" class="add" (click)="createPost()"></div>
    </div>
</div>
</ion-header>

<ion-content class= "feed">
  <div *ngFor="let post of posts">
    <div *ngIf= "(post.type === rType() || rType() === 'All') && post.feed === fType()">
      <ion-card class="posts">

    <!-- TODO: STYLE THIS -->
      <ion-item>
        <span (click)="goProfile(post.profile)">
        <h2 id ="time">{{post.time}}</h2>
        <img item-start class="prof_pic" src="{{post.prof_pic}}" />
	      <h2 id = "name">{{post.name}}</h2>
	      <h2 id = "Uname">@{{post.username}}</h2>
      </span>

      <!--Actions: Like, comment, repost, share -->
      <span *ngIf ="post.text === ''">
      <div id="buttons">
          <div id="Tbuttons">
            <div><button class = "button button-like" (click) = "Like(post)">
            </button></div>
            <div><p id = "LText">{{post.likes.Display}}</p></div>
          </div>
          <div id="Tbuttons">
            <div><button class = "button button-comment" (click) = "Comment(post)">
            </button></div>
            <div><p id = "CText">{{post.comments}}</p></div>
          </div>
          <div><button class = "button button-repost" (click) = "Repost(post)">
          </button></div>
          <div><button class = "button button-share" (click) = "Share(post)">
          </button></div>
      </div>
    </span>


    <ion-card-content *ngIf = "post.text != ''">
      <p id = "Text">{{post.text}}</p>
    </ion-card-content>

    </ion-item>

    <span *ngIf ="post.text !== ''">
    <div id="Lbuttons">
        <div id="LTbuttons">
          <div id="space"><button class = "button button-like" (click) = "Like(post)"></button></div>
          <div id = "LText">{{post.likes.Display}}</div>
        </div>
        <div id="LTbuttons">
          <div class = "button button-comment" (click) = "Comment(post)"></div>
          <div id = "CText">{{post.comments}}</div>
        </div>
        <div><button class = "button button-repost" (click) = "Repost(post)">
        </button></div>
        <div><button class = "button button-share" (click) = "Share(post)">
        </button></div>
    </div>
    </span>

  <img *ngIf ="post.post_pic != '' && post.type != 'Video'" class = "post_pic"
  src="{{post.post_pic}}" />
  <object *ngIf="post.type =='Video'" data="https://www.youtube.com/embed/VDGD7kEiksQ"
  class = "post_pic"></object>
  </ion-card>
</div>
</div>

</ion-content>

<ion-footer>
  <div id="Filters">
      <div (click) = "setfeed('public')"><img class="link link-all"/></div>
      <div (click) = "setfeed('friends')"><img class="link link-friends"/></div>
      <div (click) = "setfeed('family')"><img class="link link-family"/></div>
      <div (click) = "pushPage('profile')"><img class="link link-profile"/></div>
      <div><img class="link link-notifications"/></div>
  </div>
</ion-footer>
